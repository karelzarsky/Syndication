@model FeedListViewModel

@{
    ViewData["Title"] = "Feed List";
    var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
    var nextDisabled = !Model.HasNextPage ? "disabled" : "";
}

<div class="container-fluid">
    <div class="row ">
        <h1 class="text-center">Feeds List <span class="showopacity glyphicon glyphicon-volume-up" /></h1>
    </div>

    <form asp-action="FeedList" method="get">
        <div class="btn-group" role="group">
            <a asp-action="Companies"
               asp-route-page="@(Model.PageIndex - 1)"
               class="btn btn-sm btn-info @prevDisabled"
               role="group">
                Prev<div><span class="glyphicon glyphicon-chevron-left" aria-hidden="true" /></div>
            </a>
            <a class="btn btn-sm btn-info disabled" role="group"><div>Page</div>@Model.PageIndex / @Model.TotalPages</a>
            <a asp-action="FeedList"
               asp-route-page="@(Model.PageIndex + 1)"
               class="btn btn-sm btn-info @nextDisabled"
               role="group">
                Next
                <div><span class="glyphicon glyphicon-chevron-right" aria-hidden="true" /></div>
            </a>
        </div>
        Filter: <input type="text" name="nameFilter" value="@ViewData["nameFilter"]" placeholder="name…" />
        <input type="submit" value="Filter" class="btn btn-info" />
    </form>

    @foreach (var f in Model.Feeds)
    {
        <div class="row">
            <div class="col-md-1">@f.FeedEntity.ID</div>
            <div class="col-md-3"><strong>@f.FeedEntity.Title</strong></div>
            <div class="col-md-4"><a href="@f.FeedEntity.Url">@f.FeedEntity.Url</a></div>
            <div class="col-md-1"><span class="showopacity glyphicon @(f.FeedEntity.Active?"glyphicon-ok success": "glyphicon-remove danger")" /></div>
            <div class="col-md-1">@f.articles</div>
            <div class="col-md-1">@f.articlesWithTicker</div>
            <div class="col-md-12">@f.FeedEntity.ErrorMessage</div>
            <div class="col-md-1">@f.FeedEntity.Language</div>
            <div class="col-md-4">@f.FeedEntity.LastArticleReceived</div>
        </div>
        <hr/>
    }
</div>